generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id              Int      @id @default(autoincrement())
  idWallet        Int?
  phone           String
  email           String?
  avatar          String?
  seedsTag        String?
  otp             String?
  pin             String
  countPost       Int?     @default(0)
  countFollowers  Int?     @default(0)
  countFollowings Int?     @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  posts    posts[]
  comments comments[]
}

model posts {
  id        Int      @id @default(autoincrement())
  idUser    Int
  title     String
  content   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  users    users      @relation(fields: [idUser], references: [id])
  comments comments[]
}

model comments {
  id          Int      @id @default(autoincrement())
  idUser      Int
  idPost      Int
  comment     String
  commentedOn Int?     @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  User users @relation(fields: [idUser], references: [id])
  Post posts @relation(fields: [idPost], references: [id])
}
